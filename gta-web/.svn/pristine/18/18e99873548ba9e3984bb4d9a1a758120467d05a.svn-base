<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/MainContent.xhtml">

 	<ui:define name="Content" id="newcontent"> 
	
		<h:form id="form2" prependId="false">

			<script
				src="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.2.0/js/bootstrap.js"></script>

			<div class="col-md-8">
				<div class="widget">
					<div class="widget-header-in">

						<ul class="nav nav-tabs pull-right">
							<li><button class="btn btn-default  btn-primary ">
									<i class="fa fa-file-pdf-o"></i> Export to pdf
								</button></li>
							<li><button class="btn btn-default btn-primary ">
									<i class="fa fa-print"></i> Print
								</button></li>
						</ul>

						<ul class="nav nav-tabs">

							<li class="active"><a href="#tab1" data-toggle="tab"><i
									class="fa fa-user"></i><span>Gestion Description Semaine
										type</span></a></li>

						</ul>

					</div>

					<div class="widget-content">
						<div class="tab-content no-padding">

							<!-- ////////// Debut
												  Gestion Description Semaine type  ////////// -->
							<div class="tab-pane fade in active" id="tab1">
							
							<!-- Semaine Type DataTable -->
							<div>
									<p:outputPanel id="SemaineTypePanel">
										<p:dataTable
											value="#{descSemaineTypeBean.lsemaine}" selectionMode="single"
											var="SemaineTypeList"  selection="#{descSemaineTypeBean.selectedsemaine}" rowKey="#{SemaineTypeList.codest}" rowIndexVar="SemaineTypeIndex"
											id="SemaineTypeDataTable">
											
									        <f:facet name="header">
									            <h:outputText value="SemaineType" />
									        
									        </f:facet>
									        
									        
									        <p:ajax event="rowSelect" listener="#{descSemaineTypeBean.onDescSemaineTypeRowSelect()}"
									        	update=":form2:descSemaineTypes" />

											<p:column headerText="Code">
												<h:outputText value="#{SemaineTypeList.codest}" />
											</p:column>
											<p:column headerText="Libellé">
												<h:outputText value="#{SemaineTypeList.libelles.get(0).lib}" />
											</p:column>
										
										</p:dataTable>
									</p:outputPanel>
								</div>

								<p:outputPanel id="descSemaineTypesPanel">

									<p:dataTable value="#{descSemaineTypeBean.descSemaineTypes2}" id="descSemaineTypes"
									sortBy="#{descSemaineTypes.id}"
										rowKey="#{descSemaineTypes != null ? descSemaineTypes.id : null}"
										var="descSemaineTypes" selection="#{descSemaineTypeBean.selectedDescSemaineType}" selectionMode="single"
										rowIndexVar="descSemaineTypeIndex">

                         		<f:facet name="header">										
                               <h:outputText value="Description Semaine Type" />
                                  <br/>
                                  <br/>

													<p:commandButton icon="ui-icon-plus"
												onsuccess="PF('DialogDescSemaineType').show();"
												actionListener="#{descSemaineTypeBean.addDescSemaineType}"
												update=":formDialogDescSemaineType"
												
												 />
							
											<p:commandButton icon="ui-icon-pencil"
											 />

											<p:commandButton icon="ui-icon-trash"
											
												update=":form2:descSemaineTypes" />
                          	         	</f:facet>

										<p:column headerText="id">
											<h:outputText value="#{descSemaineTypes.idDescST}" />

										</p:column>
										<p:column headerText="Date d'effet">
											<h:outputText
												value="#{descSemaineTypes.dateEffet}" />

										</p:column>
										
										<p:column headerText="Date de Fin">
											<h:outputText
												value="#{descSemaineTypes.dateFin}" />

										</p:column>
										
									</p:dataTable>
									
								</p:outputPanel>

							</div>
						</div>
					</div>
				</div>
				<!-- END WIDGET TABBED CONTENT -->
			</div>

		</h:form>

		<!-- ***************************   POPUPS OF Gestion Description Semaine type   ********************************** -->




		<!-- //////////   
							Popup d'ajout d'une  Description Semaine type  ////////// -->

		<p:dialog header="Description Semaine type"
			widgetVar="DialogDescSemaineType" id="DescSemaineTypeBox"
			modal="true" height="500px"  >

			<h:form id="formDialogDescSemaineType">
		<h:panelGrid columns="2" cellpadding="10"  id="gridDescSemaineType">
			
			<div>
						<p:outputPanel id="plageHorairePanel">
						
						
						
						<p:outputLabel value="Date d'effet" for="dateEffetCreate" />

					<p:calendar id="dateEffetCreate"
						value="#{descSemaineTypeBean.currentDescSemaineType.dateEffet}"
							showOn="button"/>
			
                <p:dataTable value="#{descSemaineTypeBean.journeeTypeDescSemaineTypeList}" 
               rowKey="#{journeeTypeDescSemaineTypes.journeeType.idjt}"
                   var="journeeTypeDescSemaineTypes"  rowIndexVar="plageHoraireIndex"
                   id="journeeTypeDescSemaineTypes" >
					
					<f:facet name="header">
						<h:outputText value="Les jours de la description Semaine" />
					</f:facet>
					<p:column headerText="Jours">
						<h:outputText value="#{journeeTypeDescSemaineTypes.codeJour.libelles.get(0).lib}" />
					</p:column>
				           	<p:column headerText="journée Type">
						<p:selectOneMenu
						
						 value="#{journeeTypeDescSemaineTypes.journeeType.idjt}">
						 
							<f:selectItem itemValue="-1" itemLabel="Sélectionner"></f:selectItem>
							
							<f:selectItems value="#{descSemaineTypeBean.journeeTypes}"
							
						 var="journeeTypes"	itemValue="#{journeeTypes.idjt}" 
						 
						 itemLabel="#{journeeTypes.codejt}" />
						</p:selectOneMenu>
					          </p:column>
	 
			            	</p:dataTable>
				
					   </p:outputPanel>
					</div>
				
					<p:commandButton  id="saveDescSemaineType" value="Save" 	
						
						actionListener="#{descSemaineTypeBean.saveDesSemaineType}"					
						oncomplete="PF('DialogDescSemaineType').hide();"
						update=":form2:descSemaineTypes"  />
					
						
         </h:panelGrid>
			</h:form>
		</p:dialog>

		<!-- ////////// 
							Popup de modification d'une  Description Semaine type ////////// -->

		<p:dialog header="Modification de la Gestion Description Semaine type"
			widgetVar="DialogEditActPre" modal="true" height="400px">
			<h:form id="formDialogEditActPre">
				<h:panelGrid columns="2" cellpadding="10">


				</h:panelGrid>
				<br />

			</h:form>
		</p:dialog>


		<!-- ////////// 
							Popup de supprimer d'une  Description Semaine type ////////// -->

		<p:dialog header="supprimer  Description Semaine type"
			widgetVar="DialogDeleatActPre" modal="true" height="200px">
			<h:form id="formDialogDeleatActPre">
				<h:panelGrid columns="2" cellpadding="10">
                    <p:outputLabel value="Code" />
					
						
						<br />
			
				</h:panelGrid>
				<br />

			</h:form>
		</p:dialog>


</ui:define>
 </ui:composition>
</html>